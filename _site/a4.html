<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Peer review</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>




<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Joyce Exploring Data</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="a2.html">New Post</a>
</li>
<li>
  <a href="a3.html">App self reflection</a>
</li>
<li>
  <a href="a4.html">Peer review</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Peer review</h1>
<h4 class="date">30/10/2020</h4>

</div>


<div id="overview" class="section level2">
<h2>Overview</h2>
The package I reviewed is called “covid”, created and maintained by Chenjie Gong. The package is neatly formed with 10 folders, several essential files and importantly, licensed with GPL-3.
<center>
<img src="dir_structure.png" alt="Overall package structure in working directory" />
</center>
<p>
<p><code>covid</code> package touches on three aspects of a package’s capability with its multi-dimensional usage. With the dataset obtained from “Johns Hopkins University Center for Systems Science and Engineering” (JHU CCSE), Chenjie combines it to <code>covid</code> package and makes it available, shareable in R. A shiny application named “COVID-19 TRACKER” made by Chenjie earlier is also built with the same dataset. “COVID-19 TRACKER” is subsequently merged with <code>covid</code> package, so we can access the app through <code>covid</code> package. 8 functions are contained in <code>covid</code> where most of them can be used intuitively in the console, while others seem to be more suitable to incorporate with the code in app.R. The package as a whole is designed to facilitate the exploration of Covid-19 condition worldwide. <br>Chenjie successfully uses version control that the entire package is hosted on github, exhibiting a high level of transparency and resproducibility.</p>
</div>
<div id="what-did-i-think-this-package-would-do-did-it-do-it" class="section level2">
<h2>What did I think this package would do? Did it do it?</h2>
<h4>
Structure
</h4>
The folders and files altogether fulfill each of their purpose well.
<p>
<p>First, the required fields in DESCRIPTION are all filled with appropriate responses that I can immediately grasp the general idea of this package. All packages, either required or recommended, are clearly listed in “Dependencies” section that I didn’t encounter any issue having to install other packages after installing <code>covid</code>. <br>Speaking of package installation, Chenjie explains the instructions for loading the package, step-by-step in README files in detail. Besides, examples of the output are clearly displayed. <br>Following on documentation, a vignette is placed inside <code>vignettes</code> folder. Nevertheless, the contents of the vignette differs a little from what I think, as Chenjie focuses on describing the dataset and how it can be manipulated to make plots. My point of view on this is to concentrate more about the app or the package functionality. Yet it is interesting to spot this discrepancy as I start thinking that incorporating some demonstrations on the use of data as Chenjie did might enrich the overall contents more. <br>The contents of _pkgdown.yml and pkgdown.yaml located in <code>.github</code> folder both align with my understanding of what is to be included. Specifically, it is fun to see some elements are customised such as the cerulean theme. <br>The remaining folders (<code>tests</code>, <code>R</code>, <code>man</code>, <code>data</code>, <code>data-raw</code> and <code>inst</code>) all contain the relevant and proper files. For instance, the R files built for the 8 functions and 1 dataset have successfully created their respective .Rd files in <code>man</code> folder. In addition, the original <code>coronavirus.csv</code> in <code>data-raw</code> also has its .rda file in <code>data</code> folder. The documentation structure is well formatted with <code>roxygen2</code> which makes the reading easy and clear. <br>Therefore, most features in <code>covid</code> package are consistent with my knowledge of the package structure.</p>
<h4>
Functions
</h4>
My knowledge of the 8 functions are summarised as follows:
<p>
<ul>
<li>Taking in the dataset and one of the categories of Covid-19 measurements(“cases_new”, “deaths_new” and “recovered_new”), <code>type_select()</code> integrates with <code>selecttype</code> function to produce the chosen category.</li>
<li><code>plot_theme()</code> serves as a theme generator that wraps the plots with the specified theme.</li>
<li>The usage for <code>plot_cases()</code> is reflected in app.R where it plots the new cases number according to users’ selected country.</li>
<li>Having the dataset as the only input, <code>n_countries()</code> counts the distinct countries involved in <code>coronavirus</code> dataset.</li>
<li>As the function name indicates, <code>launch_app()</code> itself would directly launch the “COVID-19 TRACKER” app generated by app.R, without any input.</li>
<li>Bounded by the minimum and maximum dates of the date range, <code>selectdate()</code> allows a date to be selected.</li>
<li><code>countryinput()</code> acts as a collection of countries which is adopted to the drop-down list for selection and is further integrated with the table in “COVID-19 TRACKER”.</li>
<li>Consisted of several categories of Covid-19 measurements(“cases_new”, “deaths_new” and “recovered_new”), <code>count_type()</code> sums up the total number with the given date and the specified category in the input.</li>
</ul>
<p>
<p>The flow of the writing, along with documentation for the functions both present a high-level fluency. It turns out that the output of the functions match my presumptions of the package functionality pretty well.</p>
</div>
<div id="improvements" class="section level2">
<h2>Improvements</h2>
The functions are well documented and written in a logical pattern. Yet to further demonstrate their association with the app, I would suggest to try integrating the functions with the relevant code in app.R. For example, <code>plot_cases</code> function can be applied to <code>output$countryBar</code> which will generate the bar plot in the first tab, “Top 10 New Cases Country”. Also, I found myself a little confused when learning the <code>plot_theme</code> function. In the documentation, the argument “t” is noted as a theme. Thus, it might be helpful if the “theme” can be given with some examples in the documentation or being directly utilised in app.R. Again, <code>plot_theme</code> may be able to replace some code within <code>output$countryBar</code> as they share similar theme functions from <code>ggplot2</code>.
<p>
<p>The other recommendation concerns with the format of the vignette. Within the “Description” section, the layout of the html output seems a bit inconsistent with the author’s intended output. To enhance the readability, it might be worthwhile to refine some elements like “@” within the text as the vignette eventually renders into a html output.</p>
</div>
<div id="what-ive-learned" class="section level2">
<h2>What I’ve learned</h2>
<p>The most significant thing that I’ve learned after reviewing Chenjie’s work is the precise guidelines of setting up the required elements for the shiny app to work. Since the package functionality mostly surrounds the app, it is crucial to ensure people who load the repository into their local machine are able to access the app. I have not heard of “shinychromosome” before. With Chenjie’s comprehensive explanations provided in README.md, I gain some knowledge on “shinyChromosome” and would consider trying it with my app as well! More importantly, the contents of his README file demonstrates a high level of adequacy where he has taken care of people’s different habits in launching an app. This allows me to refine my understanding on what needs to be further emphasised in terms of installation instructions.</p>
<p>I was not confident in writing unit tests for my package, being unsure of which components are suitable for testing within a function. However, reading through the two unit tests in <code>covid</code> package, I’ve become more familiar with the broad concept of unit tests. To summarise, having unit tests enables creators to check whether the written functions together with the argument or input are in line with their expectations. For example, <code>expect_error()</code> function can be used by creators to check whether what they assume as an error would indeed result an error message.</p>
</div>
<div id="appendix" class="section level2">
<h2>Appendix</h2>
</div>
<div id="package-review" class="section level2">
<h2>Package Review</h2>
<p>*Please check off boxes as applicable, and elaborate in comments below.</p>
<div id="documentation" class="section level4">
<h4>Documentation</h4>
<p>The package includes all the following forms of documentation:</p>
<blockquote>
<ul>
<li><span class="math inline">\(\checkmark\)</span> <strong>Installation instructions:</strong> for the package is found in README</li>
<li>      <strong>Vignette(s)</strong> demonstrating major functionality that runs successfully locally</li>
<li><span class="math inline">\(\checkmark\)</span> <strong>Function Documentation:</strong> for all exported functions in R help</li>
<li><span class="math inline">\(\checkmark\)</span> <strong>Examples</strong> for all exported functions in R Help that run successfully locally</li>
</ul>
</blockquote>
</div>
<div id="functionality" class="section level4">
<h4>Functionality</h4>
<blockquote>
<ul>
<li><span class="math inline">\(\checkmark\)</span> <strong>Installation:</strong> Installation succeeds as documented.</li>
<li><span class="math inline">\(\checkmark\)</span> <strong>Functionality:</strong> Any functional claims of the software been confirmed.</li>
<li><span class="math inline">\(\checkmark\)</span> <strong>Automated tests:</strong> Unit tests cover essential functions of the package and a reasonable range of inputs and conditions. All tests pass on the local machine.</li>
</ul>
</blockquote>
<hr />
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
